<script setup lang="ts">
const { loadWorld } = useDataLoader()

const worldData = ref<any>(null)
const loading = ref(true)

onMounted(async () => {
  const data = await loadWorld()
  if (data) {
    worldData.value = data
  }
  loading.value = false
})
</script>

<template>
  <div>
    <h2>ç¬¬å››éƒ¨åˆ†ï¼šä¸–ç•Œæ•°å€¼åˆ†æ</h2>

    <div class="intro-section" style="background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);">
      <h3>ğŸŒ ä¸–ç•Œæ•°å€¼åˆ†æ</h3>
      <p>åˆ†ææ¸¸æˆä¸–ç•Œçš„åŸºç¡€å¸¸é‡ã€ç»éªŒæ›²çº¿ã€é‡‘é’±ç³»ç»Ÿç­‰ï¼Œæ­ç¤ºæ¸¸æˆç»æµå’Œè¿›åº¦è®¾è®¡ã€‚</p>
    </div>

    <section class="chart-section">
      <h3>ä¸–ç•Œæ•°æ®æ¦‚è§ˆ</h3>
      <div v-if="loading" class="loading">æ•°æ®åŠ è½½ä¸­...</div>
      <div v-else-if="worldData">
        <p>ä¸–ç•Œæ•°æ®å·²åŠ è½½</p>
        <pre style="background: #f8f9fa; padding: 1rem; border-radius: 8px; overflow: auto; max-height: 400px;">{{ JSON.stringify(worldData, null, 2) }}</pre>
      </div>
      <div v-else>
        <p style="color: var(--text-secondary);">æš‚æ— ä¸–ç•Œæ•°æ®</p>
      </div>
    </section>
  </div>
</template>

<style scoped>
.loading {
  padding: 2rem;
  text-align: center;
  color: var(--text-secondary);
}

.intro-section h3 {
  color: #fff;
  border: none;
  padding: 0;
  margin-bottom: 0.5rem;
}
</style>
