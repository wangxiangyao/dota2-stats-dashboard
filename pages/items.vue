<script setup lang="ts">
const { loadItems } = useDataLoader()

const items = ref<any[]>([])
const loading = ref(true)

onMounted(async () => {
  const data = await loadItems()
  if (data) {
    items.value = data
  }
  loading.value = false
})
</script>

<template>
  <div>
    <h2>ç¬¬ä¸‰éƒ¨åˆ†ï¼šç‰©å“æ•°å€¼åˆ†æ</h2>

    <div class="intro-section" style="background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);">
      <h3>ğŸ’ ç‰©å“æ•°å€¼åˆ†æ</h3>
      <p>åˆ†ææ‰€æœ‰ç‰©å“çš„å±æ€§ã€ä»·æ ¼ã€åˆæˆè·¯çº¿ï¼Œæ­ç¤ºç‰©å“ç»æµç³»ç»Ÿçš„è®¾è®¡é€»è¾‘ã€‚</p>
    </div>

    <section class="chart-section">
      <h3>ç‰©å“æ•°æ®æ¦‚è§ˆ</h3>
      <div v-if="loading" class="loading">æ•°æ®åŠ è½½ä¸­...</div>
      <div v-else>
        <p>å·²åŠ è½½ {{ items.length }} ä¸ªç‰©å“æ•°æ®</p>
        <p style="color: var(--text-secondary); margin-top: 1rem;">
          ç‰©å“åˆ†æåŠŸèƒ½å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…...
        </p>
      </div>
    </section>
  </div>
</template>

<style scoped>
.loading {
  padding: 2rem;
  text-align: center;
  color: var(--text-secondary);
}

.intro-section h3 {
  color: #fff;
  border: none;
  padding: 0;
  margin-bottom: 0.5rem;
}
</style>
